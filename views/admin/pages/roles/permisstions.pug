extends ../../layouts/default
include ../../mixins/alert

block main
  +alert-success(5000)
  if(role[0].permisstions.includes("roles_permisstions"))
    h1 #{pageTitle}
    if(record)
      div(data-record=record)
      div(class="text-right"
      , style="margin-right: 20px")
        button(
          type="submit"
          class="btn btn-primary mb-3"
          button-submit
        ) Cập nhật
      table(
        class="table table-hover table-sm"
        table-permisstions
        )
          thead
            tr
              th Tính năng
              each item in record
                th(class="text-center") #{item.title}
          tbody
            tr(data-name="id" class="d-none")
              td 
              each item in record 
                td(class="text-center")
                  input(style="border:none; width:60%", type=text,value=item.id)
            //- Danh mục sản phẩm
            tr
              td(colspan="4")
                b Danh mục sản phẩm
            tr(data-name="products-category_view")
              td Xem
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="products-category_create")
              td Thêm mới
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="products-category_edit")
              td Chỉnh sửa
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="products-category_delete")
              td Xóa
              each item in record
                td(class="text-center")
                  input(type="checkbox")

            //- Sản Phẩm      
            tr
              td(colspan="4")
                b Sản phẩm
            tr(data-name="products_view")
              td Xem
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="products_create")
              td Thêm mới
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="products_edit")
              td Chỉnh sửa
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="products_delete")
              td Xóa
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            //- Nhóm quyền    
            tr
              td(colspan="4")
                b Nhóm Quyền
            tr(data-name="roles_view")
              td Xem
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="roles_create")
              td Thêm mới
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="roles_edit")
              td Chỉnh sửa
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="roles_delete")
              td Xóa
              each item in record
                td(class="text-center")
                  input(type="checkbox")
            tr(data-name="roles_permisstions")
              td Phân quyền
              each item in record
                td(class="text-center")
                  input(type="checkbox")
                  
    

    form(
      action = `${prefixAdmin}/roles/permisstions?_method=PATCH`,
      id= "form-change-permisstions",
      method = "POST",
      class="d-none"
    )
      div(class="form-group")
        input(
          type="text",
          class="form-control",
          name="permisstions"
        )
    script(src="/admin/js/role.js") 